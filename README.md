# 🎵 멜로디메이트 (MelodyMate) 🎵

> 🚀 토이프로젝트 | 🤝 인원: 2명 | 📅 2023.07 ~ 진행중

## 🎯 서비스 소개

멜로디메이트는 K-POP 뮤직 플레이어 서비스입니다. 자바스크립트 기반의 프로젝트인 '해피뮤직'에서 백엔드 개발자와 함께 리액트와 타입스크립트로 마이그레이션 중입니다.

[🔗 Melody Mate 바로가기](https://melodymate.netlify.app/)

<br>

## 🌟 서비스 핵심기능

-   🎶 뮤직 플레이어 기능
-   📈 인기곡 차트
-   🎧 플레이 리스트

<br>
<br>

## 💼 역할 및 성과

### 🖥 백엔드 업무 전담

-   📈 일일 차트 크롤링
-   🖱 일일 차트 API
-   📝 회원가입, 로그인

<br>

### 🛠 추가 개발 예정
  
- 🎧 사용자 플레이리스트

<br>

## 🛠 적용기술
- **클라이언트**: `React` `TypeScript`
- **퍼블리싱**: `Tailwind CSS` 
- **백엔드**: `Spring boot` `Spring Data JPA` `Lombok` `SLF4J` `Oracle 19c` `H2`
- **인프라**: `Oracle Cloud` `Nginx` `Docker` 

<br>

## 💡 서비스 요청 흐름도
![](https://private-user-images.githubusercontent.com/97350241/316047898-a2c55bf5-7da2-48c4-9195-eb5e1de878b6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTExMTcwMDEsIm5iZiI6MTcxMTExNjcwMSwicGF0aCI6Ii85NzM1MDI0MS8zMTYwNDc4OTgtYTJjNTViZjUtN2RhMi00OGM0LTkxOTUtZWI1ZTFkZTg3OGI2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAzMjIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMzIyVDE0MTE0MVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTUxZmY3ZmExMTRkODRkMjA2MmU1OGZkNzk3ZWU0NWUwODM2OTFlMzRiY2FjMzI3MDE3ZGI5YWM4OWZjNzJmNmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.f22XNXKhniF9r19q4DanQhf31WIZKbU_FWeee-fO4FE)

## 📸 서비스 스크린샷

### 🎶 반응형

-   화면 크기에 맞게 웹 페이지의 레이아웃이 조정됩니다. 모든 장치에서 편리하게 사용 가능합니다.
    
![반응형](https://github.com/MelodyMate/melodymate-front/assets/89791868/1c3196ad-05c5-457d-80c0-f1e095d10030)

<br>

### 🎶 차트

-   인기 있는 음악을 순위별로 나열한 목록입니다.
  
![차트2](https://github.com/MelodyMate/melodymate-front/assets/89791868/28f4c415-06b5-4a39-9e9e-13fd758f232b)

<br>

### 🎶 다음곡 & 이전곡

-   차트나 플레이리스트에서 곡을 전환하는 기능입니다. 사용자는 "다음곡" 또는 "이전곡" 버튼을 통해 곡을 쉽게 변경할 수 있습니다.

![다음곡이전곡](https://github.com/MelodyMate/melodymate-front/assets/89791868/a70d06e4-27dd-4db9-a285-1b37365a5402)

<br>

### 🎶 음악 진행바 선택기능

-   진행바를 통해 음악의 특정 부분을 선택하여 재생할 수 있습니다.
  
![프로그래머바클릭](https://github.com/MelodyMate/melodymate-front/assets/89791868/3fb7be70-97e6-464d-8858-2b82b8834a9f)
    <br>

### 🎶 음소거 해제 기능

-   음악의 소리를 끄거나 다시 켤 수 있는 기능입니다.
  
![음소거해제](https://github.com/MelodyMate/melodymate-front/assets/89791868/9f74f3a5-359f-404c-a1dc-dfa1f66e1ac8)

<br>

### 🎶 모달 창닫기, 숨기기 기능

-   웹 페이지 위에 나타나는 모달 창을 닫거나 숨길 수 있습니다.

![모달2-min](https://github.com/MelodyMate/melodymate-front/assets/89791868/21c331a3-c55e-4971-a5c2-33e0c6ebc527)

<br>

### 🎶 회원가입, 로그인, 플레이리스트, 믹스테이프는 곧 업데이트 될 예정입니다. 🔧

<br>

## ⁉️ 진행하면서 배워가는 것들
- Spring Data JPA를 처음 진행
  - 3월 현재 글을 쓰고 있으면서도 아직 익숙하지가 않다. 연관관계에 값을 넣는것이 익숙하진 않지만 매일 강의를 들으면서 적용해나가고 있다.
  - 잘못 된 적용으로 1위-100위의 순위를 출력할 때 쿼리문이 100번 실행되어서 응답속도가 약 3초가 걸렸다.
    - 이 문제는 지연로딩과 Entity Graph를 통해 쿼리문을 1번만 나가도록 줄였다.
    - 응답속도가 `230ms` 대폭으로 개선되었다.
  - Local Cache인 caffeine을 적용했다. 
    - 1일동안은 순위가 변하지 않아 캐쉬 적용시간을 적절하게 설정하였다.
    - 캐시 적용으로 처음 조회 시 230ms에서 `8ms`로 또 한번 대폭 상승하였다.
    - 하지만 23시59분에 조회하게되면 캐시에 값이 남아있기 때문에 전날 정보가 저장되 있는 문제 해결을 위해 열심히 고민중...

- 성능 개선
  - 강의를 들으면서 조회 최적화에 대해서 열심히 돌려보고 있다.
  - 많은 내용을 조회하는 것은 아니지만 하나를 조회하더라도 최적의 속도를 만들기 위해 노력하고 있다.